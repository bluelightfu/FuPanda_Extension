	// $('#btn_clearcardno').click(function(){	// 	var ret=confirm('是否確認要清除輸入的信用卡號?');	// 	if(ret)	// 		$(".card_info").val("");	// });	function ValidateNumber(e, pnumber){		if (!/^\d+$/.test(pnumber)){			e.value = /^\d+/.exec(e.value);			return true;		}		return false;	}	var code;	function createCode() {		code = "";		var codeLength = 4; //驗證碼的長度		var checkCode = document.getElementById("checkCode");		var codeChars = new Array(2, 3, 4, 5, 6, 7, 8, 9); //所有候選組成驗證碼的字元，當然也可以用中文的		for (var i = 0; i < codeLength; i++){			var charNum = Math.floor(Math.random() * 8);			code += codeChars[charNum];		}		if (checkCode){			checkCode.className = "code";			checkCode.innerHTML = code;		}	}    function isChinese(s) {        if(s.indexOf('𡝗')>=0)            return true;        else{            for(var i = 0; i < s.length; i++) {                if(s!='𡝗'){                    if(s.charCodeAt(i) < 0x4E00 || s.charCodeAt(i) > 0x9FA5) {                        return false;                    }                }            }        }        return true;    }	//onfocus	function setUserNameValue(){		user_name=document.getElementById('user_name');		if(user_name.value=='請填寫中文姓名')			user_name.value='';	}	//onblur	function setUserNameValueOn(){		user_name=document.getElementById('user_name');		if(user_name.value.trim()=='')			user_name.value='請填寫中文姓名';	}	function inArray(needle, haystack) {	    var length = haystack.length;	    for(var i = 0; i < length; i++) {	        if(haystack[i] == needle) return true;	    }	    return false;	}	function chk_value(){		msg='';		count=0;		//檢查如何得知本活動		var chk1 = document.getElementById('how2know1').checked;		var chk2 = document.getElementById('how2know2').checked;		var chk3 = document.getElementById('how2know3').checked;		var chk4 = document.getElementById('how2know4').checked;		if(chk1 || chk2 || chk3 || chk4 ){		}else{			count++;			msg+='請至少勾選一項: 如何得知本活動訊息\n';		}		//檢查日期是否有選		var ord_date=document.getElementById('ord_date');		if(ord_date.selectedIndex==0){			msg+="請選擇訂位日期或目前已無日期可供選擇\n";			count++;		}		//檢查姓名		var user_name=document.getElementById('user_name');		if(user_name.value=='' || user_name.value=='請填寫中文姓名'){			count++;			msg+='請輸入:姓名\n';		}		else if(!isChinese(user_name.value)){			count++;			msg+='請輸入:中文姓名\n';		}		else if(user_name.value.indexOf('気')>=0){			count++;			msg+='請輸入正確的中文姓名\n';		}		else if(user_name.value.length<2){			count++;			msg+='請至少輸入2個字以上的中文姓名\n';		}		//檢查手機		var user_phone=document.getElementById('user_phone').value;		if(user_phone.length==0){			msg+="手機不可空白!!\n";			count++;		}		else if(user_phone.length!=10){			msg+="手機長度須為10, 不可加'-'\n";			count++;		}        else if(user_phone.substring(0,2)!='09'){            msg+="請輸入正確的手機號碼\n";            count++;        }		else if(isNaN(user_phone)){			msg+="手機不可輸入文字, 不可加'-'\n";			count++;		}		//檢查卡號		var card1 = document.getElementById('card1').value;		var card4 = document.getElementById('card4').value;		if(card1.length!=6 || card4.length!=4){			count++;			msg+='請輸入完整的信用卡卡號\n';		}		//檢查有效郵件		var user_email = document.getElementById('user_email');		if(!validateEmail(user_email.value)){			count++;			msg+='請輸入正確的Email格式\n';		}		//檢查驗證碼		var captcha_form = document.getElementById('captcha_form');		if(captcha_form.value==''){			count++;			msg+='請輸入驗證碼\n';		}		else if (captcha_form.value.toUpperCase() != code.toUpperCase()){			msg+="驗證碼錯誤！";			createCode();			count++;		}        //檢查是否有勾選同意：活動相關規定及細則        var chk = document.getElementById('CheckboxGroup1_0');        if(!chk.checked){            msg+="您必須勾選: 我已閱讀並同意遵守 2024五星饗宴活動說明。";            count++;        }		if(count>0){			// message_title.innerHTML='共有 '+count+' 個錯誤請您修正:\n'+msg;            // $('#flash-overlay-modal_2').modal();            msg='共有 '+count+' 個錯誤請您修正:\n\n'+msg;            alert(msg);            return false;		}		else{			//var order_method = document.getElementById('order_method');			//order_method.value=checkserAgent();			shouldConfirm =false;			document.form_append.submit();		}	}	function chk_checkbox(elem){		is_select=false;		for (var i=0; i<elem.length; i++){			if (elem[i].checked){				is_select=true;			}		}		return is_select;	}    function validateEmail(email) {        if(email.indexOf('*')>=0)            return false;        else {            reg = /^[^\s]+@[^\s]+\.[^\s]{2,3}$/;            if (reg.test(email.trim())) {                return true;            } else {                return false;            }        }    }	function chk(form){		msg='';		count=0;		//檢查姓名		var ord_no=document.getElementById('ord_no');		if(ord_no.value.length!=8 && ord_no.value.length!=9){			count++;			msg+='請至少輸入長度8~9的訂單編號\n';		}		//檢查手機		var user_phone=document.getElementById('user_phone').value;		if(user_phone.length==0){			msg+="手機不可空白!!\n";			count++;		}		else if(user_phone.length!=10){			msg+="手機長度須為10, 不可加'-'\n";			count++;		}		else if(user_phone.substring(0,2)!='09'){			msg+="請輸入正確的手機號碼\n";			count++;		}        else if(isNaN(user_phone)){            msg+="手機不可輸入文字, 不可加'-'\n";            count++;        }		//檢查卡號		var cardno1 = document.getElementById('cardno1').value;		var cardno2 = document.getElementById('cardno2').value;		var cardno4 = document.getElementById('cardno4').value;		if(cardno1.length!=4 || cardno2.length!=4 || cardno4.length!=4 ){			count++;			msg+='請輸入完整的信用卡卡號\n';		}		if(count>0){			alert('共有 '+count+' 個錯誤請您修正:\n\n'+msg);            // $('#flash-overlay-modal_2').modal();            return false;		}		else{			//var order_method = document.getElementById('order_method');			//order_method.value=checkserAgent();			shouldConfirm =false;			form.submit();		}	}